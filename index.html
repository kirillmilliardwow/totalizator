<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé∞ –¢–æ—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä 2026 - –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
        }
        
        h1 {
            color: #333;
            margin: 0;
        }
        
        .status {
            text-align: center;
            padding: 10px;
            background: #e8f4fc;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #3498db;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .stat {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .tokens {
            background: #667eea;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        #tokensLeft {
            font-size: 3em;
            font-weight: bold;
            display: block;
            margin: 10px 0;
        }
        
        .candidate {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .candidate-name {
            font-weight: bold;
            font-size: 1.1em;
        }
        
        input[type="number"] {
            width: 80px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            min-width: 180px;
        }
        
        .btn-save {
            background: #2ecc71;
            color: white;
        }
        
        .btn-random {
            background: #3498db;
            color: white;
        }
        
        .btn-reset {
            background: #e74c3c;
            color: white;
        }
        
        .leaderboard {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .player {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background: white;
            border-radius: 8px;
        }
        
        .player-you {
            background: #e8f4fc;
            border-left: 4px solid #3498db;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: slideIn 0.3s, slideOut 0.3s 2.7s forwards;
            z-index: 1000;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        @media (max-width: 600px) {
            .stats {
                grid-template-columns: 1fr;
            }
            
            button {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé∞ –¢–æ—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä 2026</h1>
            <p>–°—Ç–∞–≤—å—Ç–µ –∂–µ—Ç–æ–Ω—ã –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞–≤–∫–∏ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤!</p>
        </div>
        
        <div class="status">
            <strong>‚ö° –ú–£–õ–¨–¢–ò–ü–õ–ï–ï–† –†–ê–ë–û–¢–ê–ï–¢</strong><br>
            <span id="statusText">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</span>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="totalBets">0</div>
                <div>–í—Å–µ–≥–æ —Å—Ç–∞–≤–æ–∫</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="topChoice">-</div>
                <div>–õ–∏–¥–µ—Ä</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="activePlayers">1</div>
                <div>–ò–≥—Ä–æ–∫–æ–≤</div>
            </div>
        </div>
        
        <div class="tokens">
            <div>–û—Å—Ç–∞–ª–æ—Å—å –∂–µ—Ç–æ–Ω–æ–≤</div>
            <div id="tokensLeft">100</div>
            <div>–∏–∑ 100 –≤–æ–∑–º–æ–∂–Ω—ã—Ö</div>
        </div>
        
        <div id="candidates">
            <!-- –°–ø–∏—Å–æ–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
        </div>
        
        <div class="buttons">
            <button class="btn-save" id="saveBtn">‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞–≤–∫—É</button>
            <button class="btn-random" id="randomBtn">üé≤ –°–ª—É—á–∞–π–Ω–æ</button>
            <button class="btn-reset" id="resetBtn">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
        
        <div class="leaderboard">
            <h3>üë• –°—Ç–∞–≤–∫–∏ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤:</h3>
            <div id="playersList">
                <div style="text-align: center; padding: 20px;">
                    –ó–∞–≥—Ä—É–∑–∫–∞...
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== –ü–†–û–°–¢–ê–Ø –°–ò–°–¢–ï–ú–ê –ú–£–õ–¨–¢–ò–ü–õ–ï–ï–†–ê ==========
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º Supabase –∫–∞–∫ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        
        // –í–∞—à–∏ –∫–ª—é—á–∏ Supabase
        const SUPABASE_URL = 'https://emsdxguafvggifztgeks.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_hhEWBsXgWr_TTC9rFp7Qfg_SfuD6bYl';
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Supabase
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        // –°–ø–∏—Å–æ–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
        const candidates = [
            "–ü–æ–¥–≤–∞–ª–∫–æ–≤–∞", "–°–∞–ø—å—è–Ω–∞—è", "–ü–æ–ø–æ–≤", "–ë–∞–ª—ã–∫–∏–Ω–∞", "–ë–∏–ª–∏—á–µ–Ω–∫–æ", 
            "–ö—É–ª–∏–∫–æ–≤", "–î–µ–≥—Ç–µ—Ä–µ–≤–∞", "–¢—è–≥–∏–Ω–∞", "–ö–æ—Ä–æ–ª–µ–≤–∞", "–ñ–∏–ª–∫–æ", 
            "–¢—É—Ä–∫–∏–Ω–∞", "–ë—É—Ä–∫–æ–≤–∞", "–Æ—Ä—á–∏—Ö–∏–Ω–∞"
        ];
        
        // –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let myBets = {};
        let myName = '';
        let myId = '';
        
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        async function init() {
            console.log('üöÄ –ó–∞–ø—É—Å–∫ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞...');
            
            // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–∏ –¥–∞–Ω–Ω—ã–µ
            loadMyData();
            
            // 2. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏–º—è
            await askName();
            
            // 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
            showCandidates();
            
            // 4. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
            await connectToDatabase();
            
            // 5. –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞–≤–∫–∏ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
            await loadAllBets();
            
            console.log('‚úÖ –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä –≥–æ—Ç–æ–≤!');
        }
        
        function loadMyData() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç–∞–≤–∫–∏
            const saved = localStorage.getItem('my_bets');
            if (saved) {
                myBets = JSON.parse(saved);
            } else {
                // –°—Ç–∞–≤–∏–º –≤—Å–µ–º 0
                candidates.forEach(c => myBets[c] = 0);
            }
            
            // –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
            myId = localStorage.getItem('my_id');
            if (!myId) {
                myId = 'player_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('my_id', myId);
            }
        }
        
        async function askName() {
            myName = localStorage.getItem('my_name');
            
            if (!myName) {
                // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å
                setTimeout(async () => {
                    const name = prompt("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∏–≥—Ä–æ–∫–æ–≤:", 
                                      "–ò–≥—Ä–æ–∫_" + Math.floor(Math.random() * 1000));
                    if (name) {
                        myName = name;
                        localStorage.setItem('my_name', myName);
                        showMessage(`–ü—Ä–∏–≤–µ—Ç, ${myName}!`);
                    }
                }, 500);
            }
        }
        
        function showCandidates() {
            const container = document.getElementById('candidates');
            let html = '';
            
            candidates.forEach(candidate => {
                const value = myBets[candidate] || 0;
                
                html += `
                    <div class="candidate">
                        <div class="candidate-name">${candidate}</div>
                        <div>
                            <input type="number" 
                                   value="${value}"
                                   min="0" 
                                   max="100"
                                   oninput="updateMyBet('${candidate}', this.value)"
                                   style="width: 80px;">
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            updateTokens();
        }
        
        function updateMyBet(candidate, value) {
            const num = parseInt(value) || 0;
            const total = Object.values(myBets).reduce((a, b) => a + b, 0);
            const oldValue = myBets[candidate] || 0;
            const newTotal = total - oldValue + num;
            
            if (newTotal > 100) {
                const left = 100 - (total - oldValue);
                alert(`–ú–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º—É–º ${left} –∂–µ—Ç–æ–Ω–æ–≤ –Ω–∞ —ç—Ç–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞!`);
                return;
            }
            
            myBets[candidate] = num;
            localStorage.setItem('my_bets', JSON.stringify(myBets));
            updateTokens();
        }
        
        function updateTokens() {
            const used = Object.values(myBets).reduce((a, b) => a + b, 0);
            const left = 100 - used;
            
            document.getElementById('tokensLeft').textContent = left;
            
            if (left < 0) {
                document.getElementById('tokensLeft').style.color = '#e74c3c';
            } else if (left < 20) {
                document.getElementById('tokensLeft').style.color = '#f39c12';
            } else {
                document.getElementById('tokensLeft').style.color = 'white';
            }
        }
        
        async function connectToDatabase() {
            try {
                document.getElementById('statusText').textContent = '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...';
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
                const { data, error } = await supabase
                    .from('bets')
                    .select('count', { count: 'exact', head: true })
                    .limit(1);
                
                if (error) {
                    console.log('–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, —Å–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É...');
                    await createTable();
                }
                
                document.getElementById('statusText').textContent = '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ! –í–∏–¥–∏—Ç–µ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –Ω–∏–∂–µ ‚Üì';
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:', error);
                document.getElementById('statusText').textContent = '‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º';
            }
        }
        
        async function createTable() {
            try {
                // –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —á–µ—Ä–µ–∑ SQL
                const { error } = await supabase.rpc('create_bets_table_if_not_exists');
                
                if (error) {
                    // –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–±—É–µ–º –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±
                    console.log('–ü—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º...');
                }
            } catch (e) {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏');
            }
        }
        
        async function loadAllBets() {
            try {
                // –ü–æ–ª—É—á–∞–µ–º –í–°–ï —Å—Ç–∞–≤–∫–∏ –∏–∑ –±–∞–∑—ã
                const { data: allBets, error } = await supabase
                    .from('bets')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                updateStats(allBets || []);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤
                showPlayers(allBets || []);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞–≤–æ–∫:', error);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                showDemoData();
            }
        }
        
        function updateStats(allBets) {
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞–≤–æ–∫
            document.getElementById('totalBets').textContent = allBets.length;
            
            // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
            const uniquePlayers = new Set(allBets.map(b => b.user_id)).size;
            document.getElementById('activePlayers').textContent = uniquePlayers || 1;
            
            // –°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∫–∞–Ω–¥–∏–¥–∞—Ç
            const votes = {};
            allBets.forEach(bet => {
                if (bet.top_choice) {
                    votes[bet.top_choice] = (votes[bet.top_choice] || 0) + 1;
                }
            });
            
            let topChoice = '';
            let maxVotes = 0;
            Object.keys(votes).forEach(candidate => {
                if (votes[candidate] > maxVotes) {
                    maxVotes = votes[candidate];
                    topChoice = candidate;
                }
            });
            
            document.getElementById('topChoice').textContent = topChoice || '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö';
        }
        
        function showPlayers(allBets) {
            const container = document.getElementById('playersList');
            
            if (!allBets || allBets.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #666;">
                        –°—Ç–∞–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º! üèÜ
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            // –ë–µ—Ä–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 —Å—Ç–∞–≤–æ–∫
            const recentBets = allBets.slice(0, 15);
            
            recentBets.forEach(bet => {
                const isMe = bet.user_id === myId;
                const time = new Date(bet.created_at).toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                html += `
                    <div class="player ${isMe ? 'player-you' : ''}">
                        <div>
                            <strong>${bet.user_name || '–ê–Ω–æ–Ω–∏–º'}</strong>
                            <div style="font-size: 0.9em; color: #666;">${time}</div>
                        </div>
                        <div style="font-weight: bold; color: #667eea;">
                            ${bet.top_choice}: ${bet.bets[bet.top_choice] || 0}%
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        async function saveMyBet() {
            const total = Object.values(myBets).reduce((a, b) => a + b, 0);
            
            if (total !== 100) {
                showMessage(`–ù—É–∂–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–æ–≤–Ω–æ 100 –∂–µ—Ç–æ–Ω–æ–≤! –°–µ–π—á–∞—Å: ${total}`);
                return;
            }
            
            if (!myName) {
                const name = prompt("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:");
                if (name) {
                    myName = name;
                    localStorage.setItem('my_name', myName);
                } else {
                    showMessage("–ë–µ–∑ –∏–º–µ–Ω–∏ –Ω–µ–ª—å–∑—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞–≤–∫—É");
                    return;
                }
            }
            
            // –ù–∞—Ö–æ–¥–∏–º –≥–ª–∞–≤–Ω—É—é —Å—Ç–∞–≤–∫—É
            let mainChoice = '';
            let maxBet = 0;
            Object.keys(myBets).forEach(candidate => {
                if (myBets[candidate] > maxBet) {
                    maxBet = myBets[candidate];
                    mainChoice = candidate;
                }
            });
            
            try {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Supabase
                const { error } = await supabase
                    .from('bets')
                    .upsert({
                        user_id: myId,
                        user_name: myName,
                        bets: myBets,
                        top_choice: mainChoice,
                        created_at: new Date().toISOString()
                    }, {
                        onConflict: 'user_id'
                    });
                
                if (error) throw error;
                
                showMessage('‚úÖ –í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤
                setTimeout(() => loadAllBets(), 1000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
                showMessage('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            }
        }
        
        function randomizeBets() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç–∞–≤–∫–∏
            candidates.forEach(c => myBets[c] = 0);
            
            // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º 100 –∂–µ—Ç–æ–Ω–æ–≤ —Å–ª—É—á–∞–π–Ω–æ
            let left = 100;
            const shuffled = [...candidates].sort(() => Math.random() - 0.5);
            
            for (let i = 0; i < shuffled.length; i++) {
                if (left <= 0) break;
                
                if (i === shuffled.length - 1) {
                    myBets[shuffled[i]] = left;
                    break;
                }
                
                const max = Math.min(Math.floor(left / 2) + 1, left);
                const random = Math.floor(Math.random() * max);
                myBets[shuffled[i]] = random;
                left -= random;
            }
            
            showCandidates();
            localStorage.setItem('my_bets', JSON.stringify(myBets));
            showMessage('üé≤ –°—Ç–∞–≤–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–ª—É—á–∞–π–Ω–æ!');
        }
        
        function resetBets() {
            if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –≤–∞—à–∏ —Å—Ç–∞–≤–∫–∏?')) {
                candidates.forEach(c => myBets[c] = 0);
                showCandidates();
                localStorage.setItem('my_bets', JSON.stringify(myBets));
                showMessage('üóëÔ∏è –í—Å–µ —Å—Ç–∞–≤–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã');
            }
        }
        
        function showDemoData() {
            const demoBets = [
                { user_name: '–ê–ª–µ–∫—Å–µ–π', top_choice: '–ñ–∏–ª–∫–æ', bets: { '–ñ–∏–ª–∫–æ': 25 }, created_at: new Date() },
                { user_name: '–ú–∞—Ä–∏—è', top_choice: '–ë–∏–ª–∏—á–µ–Ω–∫–æ', bets: { '–ë–∏–ª–∏—á–µ–Ω–∫–æ': 30 }, created_at: new Date() },
                { user_name: '–°–µ—Ä–≥–µ–π', top_choice: '–ö—É–ª–∏–∫–æ–≤', bets: { '–ö—É–ª–∏–∫–æ–≤': 20 }, created_at: new Date() }
            ];
            
            updateStats(demoBets);
            showPlayers(demoBets);
            
            document.getElementById('statusText').textContent = '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ! (–¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ)';
        }
        
        function showMessage(text) {
            const msg = document.createElement('div');
            msg.className = 'notification';
            msg.textContent = text;
            
            document.body.appendChild(msg);
            
            setTimeout(() => {
                msg.remove();
            }, 3000);
        }
        
        // ========== –ó–ê–ü–£–°–ö ==========
        document.addEventListener('DOMContentLoaded', () => {
            init();
            
            document.getElementById('saveBtn').addEventListener('click', saveMyBet);
            document.getElementById('randomBtn').addEventListener('click', randomizeBets);
            document.getElementById('resetBtn').addEventListener('click', resetBets);
            
            // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
            setInterval(() => loadAllBets(), 10000);
        });
    </script>
</body>
</html>
